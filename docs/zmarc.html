
<!doctype html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module PyZ3950/zmarc</title>
<style type="text/css"><!--
TT { font-family: lucidatypewriter, lucida console, courier }
--></style></head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>PyZ3950/zmarc</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/asl2/src/PyZ2/PyZ3950/PyZ3950/zmarc.py">/home/asl2/src/PyZ2/PyZ3950/PyZ3950/zmarc.py</a></font></td></tr></table>
    <p><tt>Parses&nbsp;<a href="#MARC">MARC</a>-format&nbsp;data.&nbsp;&nbsp;The&nbsp;<a href="#MARC">MARC</a>&nbsp;class&nbsp;has&nbsp;a&nbsp;constructor<br>
which&nbsp;takes&nbsp;binary&nbsp;<a href="#MARC">MARC</a>&nbsp;data.</tt></p>

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#fffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="marc_to_unicode.html">PyZ3950.marc_to_unicode</a><br>
</td><td width="25%" valign=top><a href="string.html">string</a><br>
</td><td width="25%" valign=top><a href="sys.html">sys</a><br>
</td><td width="25%" valign=top><a href="unicodedata.html">unicodedata</a><br>
</td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="exceptions.html#Exception">exceptions.Exception</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="PyZ3950/zmarc.html#MarcError">MarcError</a>
</font></dt></dl>
</dd>
<dt><font face="helvetica, arial"><a href="PyZ3950/zmarc.html#MARC">MARC</a>
</font></dt><dt><font face="helvetica, arial"><a href="PyZ3950/zmarc.html#MARC8_to_Unicode">MARC8_to_Unicode</a>
</font></dt></dl>
 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="MARC">class <strong>MARC</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Parses&nbsp;data&nbsp;into&nbsp;'fields'&nbsp;attribute,&nbsp;indexed&nbsp;by&nbsp;field&nbsp;number.<br>
Each&nbsp;value&nbsp;is&nbsp;a&nbsp;list.&nbsp;&nbsp;For&nbsp;fixed&nbsp;fields,&nbsp;it's&nbsp;a&nbsp;list&nbsp;of&nbsp;the&nbsp;string&nbsp;data<br>
(one&nbsp;string&nbsp;for&nbsp;each&nbsp;occurrence&nbsp;of&nbsp;the&nbsp;field&nbsp;in&nbsp;the&nbsp;original&nbsp;data).&nbsp;&nbsp;For<br>
other&nbsp;fields,&nbsp;each&nbsp;list&nbsp;element&nbsp;is&nbsp;a&nbsp;tuple&nbsp;of&nbsp;(indicator&nbsp;1,&nbsp;indicator&nbsp;2,<br>
subdata),&nbsp;where&nbsp;subdata&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;tuples&nbsp;of&nbsp;(subfield&nbsp;indicator,<br>
subfield&nbsp;data).&nbsp;&nbsp;Yes,&nbsp;this&nbsp;is&nbsp;kinda&nbsp;lame&nbsp;and&nbsp;I&nbsp;really&nbsp;should&nbsp;have<br>
used&nbsp;structures,&nbsp;but&nbsp;this&nbsp;was&nbsp;some&nbsp;of&nbsp;the&nbsp;first&nbsp;Python&nbsp;code&nbsp;I&nbsp;ever<br>
wrote.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="MARC-__init__"><strong>__init__</strong></a>(self, MARC<font color="#909090">=None</font>, strict<font color="#909090">=1</font>)</dt><dd><tt>Parses&nbsp;<a href="#MARC">MARC</a>&nbsp;data.&nbsp;&nbsp;According&nbsp;to&nbsp;Bill&nbsp;Oldroyd&nbsp;(Bill.Oldroyd&nbsp;at<br>
bl.uk),&nbsp;some&nbsp;servers&nbsp;don't&nbsp;set&nbsp;the&nbsp;character&nbsp;set&nbsp;and/or&nbsp;other<br>
bits&nbsp;of&nbsp;the&nbsp;<a href="#MARC">MARC</a>&nbsp;header&nbsp;properly,&nbsp;so&nbsp;it's&nbsp;useful&nbsp;to&nbsp;set&nbsp;strict=0<br>
when&nbsp;dealing&nbsp;with&nbsp;such&nbsp;servers.</tt></dd></dl>

<dl><dt><a name="MARC-__str__"><strong>__str__</strong></a>(self)</dt></dl>

<dl><dt><a name="MARC-extract_int"><strong>extract_int</strong></a>(self, start, end)</dt></dl>

<dl><dt><a name="MARC-get_MARC"><strong>get_MARC</strong></a>(self)</dt></dl>

<dl><dt><a name="MARC-sgml_processCode"><strong>sgml_processCode</strong></a>(self, k)</dt></dl>

<dl><dt><a name="MARC-stringify_field"><strong>stringify_field</strong></a>(self, k)</dt></dl>

<dl><dt><a name="MARC-toMARCXML"><strong>toMARCXML</strong></a>(self)</dt><dd><tt>&nbsp;Convert&nbsp;record&nbsp;to&nbsp;MarcXML&nbsp;Schema</tt></dd></dl>

<dl><dt><a name="MARC-toMODS"><strong>toMODS</strong></a>(self)</dt><dd><tt>&nbsp;Transform&nbsp;<a href="#MARC">MARC</a>&nbsp;record&nbsp;into&nbsp;MODS&nbsp;according&nbsp;to&nbsp;CrossWalk</tt></dd></dl>

<dl><dt><a name="MARC-toOAIMARC"><strong>toOAIMARC</strong></a>(self)</dt><dd><tt>Convert&nbsp;record&nbsp;to&nbsp;OAI&nbsp;<a href="#MARC">MARC</a>&nbsp;XML&nbsp;Schema.<br>
Note&nbsp;Well&nbsp;that&nbsp;OAI-MHP&nbsp;2.0&nbsp;recommends&nbsp;using&nbsp;MarcXML</tt></dd></dl>

<dl><dt><a name="MARC-toSGML"><strong>toSGML</strong></a>(self)</dt><dd><tt>&nbsp;Convert&nbsp;record&nbsp;to&nbsp;USMARC&nbsp;SGML</tt></dd></dl>

<dl><dt><a name="MARC-toSimpleDC"><strong>toSimpleDC</strong></a>(self)</dt><dd><tt>&nbsp;Convert&nbsp;Marc&nbsp;into&nbsp;DC&nbsp;according&nbsp;to&nbsp;LC&nbsp;Crosswalk</tt></dd></dl>

<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = "Parses data into 'fields' attribute, indexed by ...e of the first Python code I ever<font color="#c040c0">\n</font>    wrote.<font color="#c040c0">\n</font>    "<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/zmarc'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<dl><dt><strong>hdrbits</strong> = [5, 6, 7, 8, 17, 18, 19]<dd><tt>list()&nbsp;-&gt;&nbsp;new&nbsp;list<br>
list(sequence)&nbsp;-&gt;&nbsp;new&nbsp;list&nbsp;initialized&nbsp;from&nbsp;sequence's&nbsp;items</tt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="MARC8_to_Unicode">class <strong>MARC8_to_Unicode</strong></a></font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Converts&nbsp;<a href="#MARC">MARC</a>-8&nbsp;to&nbsp;Unicode.&nbsp;&nbsp;Note&nbsp;that&nbsp;currently,&nbsp;unicode&nbsp;strings<br>
aren't&nbsp;normalized,&nbsp;and&nbsp;some&nbsp;codecs&nbsp;(e.g.&nbsp;iso8859-1)&nbsp;will&nbsp;fail&nbsp;on<br>
such&nbsp;strings.&nbsp;&nbsp;When&nbsp;I&nbsp;can&nbsp;require&nbsp;python&nbsp;2.3,&nbsp;this&nbsp;will&nbsp;go&nbsp;away.<br>
&nbsp;<br>
Warning:&nbsp;<a href="#MARC">MARC</a>-8&nbsp;EACC&nbsp;(East&nbsp;Asian&nbsp;characters)&nbsp;makes&nbsp;some<br>
distinctions&nbsp;which&nbsp;aren't&nbsp;captured&nbsp;in&nbsp;Unicode.&nbsp;&nbsp;The&nbsp;LC&nbsp;tables&nbsp;give<br>
the&nbsp;option&nbsp;of&nbsp;mapping&nbsp;such&nbsp;characters&nbsp;either&nbsp;to&nbsp;a&nbsp;Unicode&nbsp;private<br>
use&nbsp;area,&nbsp;or&nbsp;a&nbsp;substitute&nbsp;character&nbsp;which&nbsp;(usually)&nbsp;gives&nbsp;the<br>
sense.&nbsp;&nbsp;I've&nbsp;picked&nbsp;the&nbsp;second,&nbsp;so&nbsp;this&nbsp;means&nbsp;that&nbsp;the&nbsp;<a href="#MARC">MARC</a>&nbsp;data<br>
should&nbsp;be&nbsp;treated&nbsp;as&nbsp;primary&nbsp;and&nbsp;the&nbsp;Unicode&nbsp;data&nbsp;used&nbsp;for&nbsp;display<br>
purposes&nbsp;only.&nbsp;&nbsp;(If&nbsp;you&nbsp;know&nbsp;of&nbsp;either&nbsp;of&nbsp;fonts&nbsp;designed&nbsp;for&nbsp;use<br>
with&nbsp;LC's&nbsp;private-use&nbsp;Unicode&nbsp;assignments,&nbsp;or&nbsp;of&nbsp;attempts&nbsp;to<br>
standardize&nbsp;Unicode&nbsp;characters&nbsp;to&nbsp;allow&nbsp;round-trips&nbsp;from&nbsp;EACC,<br>
or&nbsp;if&nbsp;you&nbsp;need&nbsp;the&nbsp;private-use&nbsp;Unicode&nbsp;character&nbsp;translations,<br>
please&nbsp;inform&nbsp;me,&nbsp;asl2@pobox.com.<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="MARC8_to_Unicode-__init__"><strong>__init__</strong></a>(self, G0<font color="#909090">=66</font>, G1<font color="#909090">=69</font>)</dt></dl>

<dl><dt><a name="MARC8_to_Unicode-is_multibyte"><strong>is_multibyte</strong></a>(self, charset)</dt></dl>

<dl><dt><a name="MARC8_to_Unicode-translate"><strong>translate</strong></a>(self, s)</dt></dl>

<hr>
Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = 'Converts MARC-8 to Unicode.  Note that currently...anslations,<font color="#c040c0">\n</font>    please inform me, asl2@pobox.com.'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/zmarc'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<dl><dt><strong>ansel</strong> = 69<dd><tt>int(x[,&nbsp;base])&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;string&nbsp;or&nbsp;number&nbsp;to&nbsp;an&nbsp;integer,&nbsp;if&nbsp;possible.&nbsp;&nbsp;A&nbsp;floating&nbsp;point<br>
argument&nbsp;will&nbsp;be&nbsp;truncated&nbsp;towards&nbsp;zero&nbsp;(this&nbsp;does&nbsp;not&nbsp;include&nbsp;a&nbsp;string<br>
representation&nbsp;of&nbsp;a&nbsp;floating&nbsp;point&nbsp;number!)&nbsp;&nbsp;When&nbsp;converting&nbsp;a&nbsp;string,&nbsp;use<br>
the&nbsp;optional&nbsp;base.&nbsp;&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;supply&nbsp;a&nbsp;base&nbsp;when&nbsp;converting&nbsp;a<br>
non-string.</tt></dl>

<dl><dt><strong>basic_latin</strong> = 66<dd><tt>int(x[,&nbsp;base])&nbsp;-&gt;&nbsp;integer<br>
&nbsp;<br>
Convert&nbsp;a&nbsp;string&nbsp;or&nbsp;number&nbsp;to&nbsp;an&nbsp;integer,&nbsp;if&nbsp;possible.&nbsp;&nbsp;A&nbsp;floating&nbsp;point<br>
argument&nbsp;will&nbsp;be&nbsp;truncated&nbsp;towards&nbsp;zero&nbsp;(this&nbsp;does&nbsp;not&nbsp;include&nbsp;a&nbsp;string<br>
representation&nbsp;of&nbsp;a&nbsp;floating&nbsp;point&nbsp;number!)&nbsp;&nbsp;When&nbsp;converting&nbsp;a&nbsp;string,&nbsp;use<br>
the&nbsp;optional&nbsp;base.&nbsp;&nbsp;It&nbsp;is&nbsp;an&nbsp;error&nbsp;to&nbsp;supply&nbsp;a&nbsp;base&nbsp;when&nbsp;converting&nbsp;a<br>
non-string.</tt></dl>

</td></tr></table> 
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="MarcError">class <strong>MarcError</strong></a>(<a href="exceptions.html#Exception">exceptions.Exception</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2>&nbsp;</td></tr>
<tr><td>&nbsp;&nbsp;</td>
<td width="100%">Data and non-method functions defined here:<br>
<dl><dt><strong>__doc__</strong> = None</dl>

<dl><dt><strong>__module__</strong> = 'PyZ3950/zmarc'<dd><tt>str(object)&nbsp;-&gt;&nbsp;string<br>
&nbsp;<br>
Return&nbsp;a&nbsp;nice&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;object.<br>
If&nbsp;the&nbsp;argument&nbsp;is&nbsp;a&nbsp;string,&nbsp;the&nbsp;return&nbsp;value&nbsp;is&nbsp;the&nbsp;same&nbsp;object.</tt></dl>

<hr>
Methods inherited from <a href="exceptions.html#Exception">exceptions.Exception</a>:<br>
<dl><dt><a name="MarcError-__getitem__"><strong>__getitem__</strong></a>(...)</dt></dl>

<dl><dt><a name="MarcError-__init__"><strong>__init__</strong></a>(...)</dt></dl>

<dl><dt><a name="MarcError-__str__"><strong>__str__</strong></a>(...)</dt></dl>

</td></tr></table></td></tr></table>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;&nbsp;</td>
<td width="100%"><strong>__file__</strong> = './PyZ3950/zmarc.pyc'<br>
<strong>__name__</strong> = 'PyZ3950/zmarc'<br>
<strong>attrHash</strong> = {22: ['ISDSLvl', 'I2'], 24: ['StdNum', 'DiffInd'], 28: ['PubNmTyp', 'NteAdEnty'], 33: ['DateType', 'EventTyp'], 34: ['ScapeTyp', 'I2'], 41: ['TransInd', 'I2'], 45: ['TimePrd', 'I2'], 50: ['InLofC', 'CNSrc'], 55: ['InNLC', 'CNCLSSrc'], 60: ['InNLM', 'CNSrc'], ...}<br>
<strong>fieldsep</strong> = '<font color="#c040c0">\x1e</font>'<br>
<strong>recsep</strong> = '<font color="#c040c0">\x1d</font>'<br>
<strong>sep</strong> = '<font color="#c040c0">\x1f</font>'<br>
<strong>subfieldHash</strong> = {'0': 'zero', '1': 'one', '2': 'two', '3': 'three', '4': 'four', '5': 'five', '6': 'six', '7': 'seven', '8': 'eight', '9': 'nine'}</td></tr></table>
</body></html>
